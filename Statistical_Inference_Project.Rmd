---
title: "Coursera Statistical Inference Project"
author: "Father Abraham"
date: "13/09/2014"
output: pdf_document
---

**Part 1**

The first task of the project is to "[i]llustrate via simulation and associated explanatory text the properties of the distribution of the mean of 40 exponential(0.2)s".

```{r}
##set seed for predictable random numbers (!)
set.seed(23)

##satisfy project requirements
sims=1000
lambda=0.2
obs=40

##load and format data
dat1000 <- as.data.frame(replicate(sims, mean(rexp(obs, lambda))))
names(dat1000) <- c("Means")
```

With the data in place we will now plot the distribution as a histogram using the following code:

```{r}
library(ggplot2)
g <- ggplot(dat, aes(x=Means)) + geom_histogram(aes(y=..density..), binwidth=.25,  colour="black", fill="white")
g <- g + ggtitle("Average of Distributions")
g <- g + xlab("Mean") + ylab("Density")
g
```

We add a line to show where the distribution is centered - very close to 5.

```{r}
g <- g + geom_vline(aes(xintercept=mean(dat$Means)), color="blue", linetype="dashed", size=1)
g
```

Let's have a look at some other properties of the original distribution.  

The variance:

```{r}
var(dat1000$Means)
```

The theoretical variance is:

???

The standard deviation:

```{r}
sqrt(mean(dat1000$Means))
```


Next, we plot the normal distribution on top, we know the mean is 5 from 1/lambda, so we will use that (i.e. we won't *fully* standardize), and for a standard normal distribution the standad deviation is 1 (Source: Wikipedia) 

```{r}
g <- g + stat_function(fun = dnorm, colour = "red", arg = list(mean=5, sd =1))
g
```


Clearly, the distribution is very close to a normal distribution, and we have demonstrated that the Central Limit Theorem applies here.


I don't yet know how to create the 95% Confidence Level....

**Part 2**

In this part of we're going to analyze the ToothGrowth data in the R datasets package.

Load the datasets package and do some exploratory data analysis:

```{r}
data(ToothGrowth)
tg=ToothGrowth
str(tg)
summary(tg)
names(tg)
head(tg)
```

```{r echo=FALSE, message=FALSE, error=FALSE}
library(sqldf)
```

```{r}
sqldf("select count(*) from tg where supp='VC'")
sqldf("select count(*) from tg where supp='OJ'")
```

The last two results are useful, we have the same sample size, so we can use a t.test and replicate the sleep study.

Look at dosage and growth:

```{r}
qplot(ToothGrowth, y=ToothGrowth$len, x=ToothGrowth$dose)
```

Draw facets for the distribution of length by dose:

```{r}
g <- ggplot(data=tg, aes(x=len)) + geom_bar(colour="black", stat="bin", fill="#DD8888", binwidth=0.5) + facet_grid(dose ~ .) + xlab("Length") + ylab("Count")
g <- g + ggtitle("Breakdown of length of toothgrowth by Dose")
g
```

Draw facets for the distribution of length by supplement:

```{r}
g <- ggplot(data=tg, aes(x=len)) + geom_bar(colour="black", stat="bin", fill="#DD8888", binwidth=0.5) + facet_grid(supp ~ .) + xlab("Length") + ylab("Count")
g <- g + ggtitle("Breakdown of length of toothgrowth by Supplement")
g
```

Provide a basic summary of the data:  

```{r}
summary(tg)
```

In simple terms, it is a small dataset of two supplements at different dosages and an documents tooth growth on these two dimensions.  Exploratory data analysis suggests that dosage or the supplement may be influential.   

Let us create a null hypothesis H0:  Dosage has no influence on tooth growth.  We then use the t.test() function to evaluate:

```{r}
t.test(tg$len, tg$dose)
```

With such a low p-value, the null hypothesis must go.

Let us create another null hypothesis H0:  The supplement has no influence on tooth growth.

```{r}
t.test(len ~ supp, data=tg)
```

The p-value is higher than 0.05 - suggesting this hypothesis holds; just.

**Conclusions**























